[gd_scene load_steps=23 format=3 uid="uid://2dqf8eoucva7"]

[ext_resource type="Material" uid="uid://c54x6gqn0oxcu" path="res://Materials/Weapons/Common/54429747.tres" id="1_qsoso"]
[ext_resource type="Script" path="res://Scripts/Weapons/BulletController.gd" id="1_rn5p5"]
[ext_resource type="PackedScene" uid="uid://hgy5kkni0cpm" path="res://Prefabs/Particles/BulletSpark.tscn" id="2_vudbe"]
[ext_resource type="PackedScene" uid="uid://dmq6da7dayio0" path="res://Prefabs/Weapons/BulletDecal.tscn" id="3_8h365"]
[ext_resource type="Shader" path="res://addons/gputrail/shaders/trail.gdshader" id="4_0llqw"]
[ext_resource type="Texture2D" uid="uid://7pnioue54hb4" path="res://Textures/Particles/Rain/rain_camera_big.png" id="5_3n51u"]
[ext_resource type="Shader" path="res://Materials/Trails/Bump Distort.gdshader" id="5_tjdrs"]
[ext_resource type="Script" path="res://addons/gputrail/GPUTrail3D.gd" id="7_c46t5"]
[ext_resource type="AudioStream" uid="uid://1ctwiqskxayt" path="res://Sound/Weapons/Common/Bullet Hit 1.wav" id="8_so8bn"]
[ext_resource type="AudioStream" uid="uid://c5sl1oaowhx4m" path="res://Sound/Weapons/Common/Bullet Hit 2.wav" id="9_dhmob"]
[ext_resource type="AudioStream" uid="uid://cut5s6chdhiqh" path="res://Sound/Weapons/Common/Bullet Hit 3.wav" id="10_xv7tl"]
[ext_resource type="AudioStream" uid="uid://cfajww0ysqvm8" path="res://Sound/Weapons/Common/Bullet Hit 4.wav" id="11_6qbni"]

[sub_resource type="ArrayMesh" id="ArrayMesh_ccrdb"]
_surfaces = [{
"aabb": AABB(0, 0, 0, 0, 0, 0),
"format": 34896613377,
"index_count": 96,
"index_data": PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0, 2, 0, 5, 0, 3, 0, 2, 0, 4, 0, 5, 0, 4, 0, 7, 0, 5, 0, 4, 0, 6, 0, 7, 0, 6, 0, 9, 0, 7, 0, 6, 0, 8, 0, 9, 0, 5, 0, 1, 0, 3, 0, 1, 0, 9, 0, 11, 0, 9, 0, 5, 0, 7, 0, 1, 0, 5, 0, 9, 0, 8, 0, 11, 0, 9, 0, 8, 0, 10, 0, 11, 0, 10, 0, 1, 0, 11, 0, 10, 0, 0, 0, 1, 0, 2, 0, 14, 0, 4, 0, 2, 0, 13, 0, 14, 0, 17, 0, 13, 0, 12, 0, 13, 0, 15, 0, 14, 0, 15, 0, 17, 0, 16, 0, 13, 0, 17, 0, 15, 0, 8, 0, 17, 0, 10, 0, 8, 0, 16, 0, 17, 0, 0, 0, 13, 0, 2, 0, 0, 0, 12, 0, 13, 0, 4, 0, 15, 0, 6, 0, 4, 0, 14, 0, 15, 0, 10, 0, 12, 0, 0, 0, 10, 0, 17, 0, 12, 0, 6, 0, 16, 0, 8, 0, 6, 0, 15, 0, 16, 0),
"lods": [0.0193061, PackedByteArray(0, 0, 3, 0, 1, 0, 0, 0, 14, 0, 3, 0, 14, 0, 7, 0, 3, 0, 14, 0, 6, 0, 7, 0, 14, 0, 15, 0, 6, 0, 6, 0, 11, 0, 7, 0, 6, 0, 17, 0, 11, 0, 11, 0, 3, 0, 7, 0, 1, 0, 3, 0, 11, 0, 17, 0, 1, 0, 11, 0, 17, 0, 0, 0, 1, 0, 17, 0, 12, 0, 0, 0, 17, 0, 14, 0, 12, 0, 14, 0, 17, 0, 15, 0, 0, 0, 12, 0, 14, 0, 6, 0, 15, 0, 17, 0)],
"name": "54429747",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 18,
"vertex_data": PackedByteArray(255, 127, 246, 255, 251, 77, 0, 0, 255, 127, 246, 255, 255, 255, 0, 0, 255, 255, 249, 191, 251, 77, 0, 0, 255, 255, 249, 191, 255, 255, 0, 0, 255, 255, 253, 63, 251, 77, 0, 0, 255, 255, 253, 63, 255, 255, 0, 0, 255, 127, 0, 0, 251, 77, 0, 0, 255, 127, 0, 0, 255, 255, 0, 0, 0, 0, 253, 63, 251, 77, 0, 0, 0, 0, 253, 63, 255, 255, 0, 0, 0, 0, 249, 191, 251, 77, 0, 0, 0, 0, 249, 191, 255, 255, 0, 0, 255, 127, 197, 204, 0, 0, 0, 0, 204, 204, 96, 166, 0, 0, 0, 0, 204, 204, 150, 89, 0, 0, 0, 0, 255, 127, 49, 51, 0, 0, 0, 0, 51, 51, 150, 89, 0, 0, 0, 0, 51, 51, 96, 166, 0, 0, 0, 0)
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_qh0d3"]
resource_name = "Hand Gun_Cylinder"
_surfaces = [{
"aabb": AABB(-0.0352091, -0.040656, -0.090656, 0.0704183, 0.081322, 0.131312),
"attribute_data": PackedByteArray(109, 226, 246, 231, 29, 229, 228, 255, 165, 195, 246, 231, 206, 195, 228, 255, 255, 255, 36, 205, 102, 224, 248, 237, 158, 193, 248, 237, 255, 255, 135, 221, 102, 224, 253, 249, 158, 193, 253, 249, 88, 242, 184, 229, 109, 226, 255, 255, 29, 229, 255, 231, 165, 195, 255, 255, 206, 195, 255, 231, 177, 228, 135, 221, 235, 226, 249, 237, 156, 193, 249, 237, 177, 228, 36, 205, 235, 226, 235, 249, 156, 193, 235, 249, 88, 242, 243, 196, 233, 239, 197, 236, 180, 243, 29, 251, 169, 249, 120, 208, 178, 238, 96, 240, 91, 242, 22, 204, 13, 235, 120, 208, 178, 238, 149, 247, 13, 235, 60, 217, 233, 239, 48, 251, 180, 243, 199, 236, 91, 242, 159, 221, 99, 242, 92, 240, 99, 242, 136, 247, 169, 249, 60, 217, 109, 226, 246, 231, 109, 226, 246, 231, 29, 229, 228, 255, 165, 195, 246, 231, 206, 195, 228, 255, 206, 195, 228, 255, 255, 255, 36, 205, 158, 193, 248, 237, 158, 193, 248, 237, 158, 193, 248, 237, 255, 255, 135, 221, 255, 255, 135, 221, 109, 226, 255, 255, 29, 229, 255, 231, 29, 229, 255, 231, 165, 195, 255, 255, 165, 195, 255, 255, 206, 195, 255, 231, 177, 228, 135, 221, 156, 193, 235, 249, 156, 193, 235, 249, 156, 193, 235, 249, 88, 242, 243, 196, 88, 242, 243, 196, 180, 243, 29, 251, 169, 249, 120, 208, 13, 235, 120, 208, 13, 235, 120, 208, 178, 238, 149, 247, 178, 238, 149, 247, 178, 238, 149, 247, 13, 235, 60, 217, 233, 239, 48, 251, 99, 242, 136, 247, 99, 242, 136, 247, 99, 242, 136, 247, 169, 249, 60, 217, 169, 249, 60, 217),
"format": 34896613399,
"index_count": 96,
"index_data": PackedByteArray(0, 0, 6, 0, 2, 0, 0, 0, 5, 0, 6, 0, 5, 0, 9, 0, 6, 0, 5, 0, 8, 0, 9, 0, 8, 0, 13, 0, 9, 0, 8, 0, 11, 0, 13, 0, 12, 0, 17, 0, 14, 0, 12, 0, 16, 0, 17, 0, 10, 0, 4, 0, 7, 0, 4, 0, 18, 0, 21, 0, 18, 0, 10, 0, 15, 0, 4, 0, 10, 0, 18, 0, 16, 0, 20, 0, 17, 0, 16, 0, 19, 0, 20, 0, 19, 0, 3, 0, 20, 0, 19, 0, 1, 0, 3, 0, 5, 0, 28, 0, 8, 0, 5, 0, 25, 0, 28, 0, 35, 0, 26, 0, 24, 0, 26, 0, 29, 0, 27, 0, 29, 0, 35, 0, 32, 0, 26, 0, 35, 0, 29, 0, 16, 0, 34, 0, 19, 0, 16, 0, 33, 0, 34, 0, 0, 0, 25, 0, 5, 0, 0, 0, 22, 0, 25, 0, 8, 0, 30, 0, 11, 0, 8, 0, 28, 0, 30, 0, 19, 0, 23, 0, 1, 0, 19, 0, 34, 0, 23, 0, 12, 0, 33, 0, 16, 0, 12, 0, 31, 0, 33, 0),
"lods": [0.0193061, PackedByteArray(36, 0, 43, 0, 39, 0, 37, 0, 64, 0, 44, 0, 65, 0, 51, 0, 45, 0, 66, 0, 48, 0, 52, 0, 66, 0, 68, 0, 48, 0, 49, 0, 55, 0, 53, 0, 50, 0, 69, 0, 56, 0, 58, 0, 46, 0, 54, 0, 42, 0, 47, 0, 59, 0, 70, 0, 40, 0, 57, 0, 71, 0, 38, 0, 41, 0, 71, 0, 60, 0, 38, 0, 72, 0, 62, 0, 61, 0, 63, 0, 73, 0, 67, 0, 0, 0, 22, 0, 28, 0, 12, 0, 31, 0, 34, 0)],
"material": ExtResource("1_qsoso"),
"name": "54429747",
"primitive": 3,
"uv_scale": Vector4(1.94887, 1.87486, 0, 0),
"vertex_count": 74,
"vertex_data": PackedByteArray(255, 127, 246, 255, 251, 77, 4, 224, 255, 127, 246, 255, 251, 77, 27, 212, 255, 127, 246, 255, 255, 255, 254, 199, 255, 127, 246, 255, 255, 255, 254, 199, 255, 127, 246, 255, 255, 255, 16, 177, 255, 255, 249, 191, 251, 77, 194, 202, 255, 255, 249, 191, 255, 255, 144, 170, 255, 255, 249, 191, 255, 255, 149, 190, 255, 255, 253, 63, 251, 77, 194, 202, 255, 255, 253, 63, 255, 255, 144, 170, 255, 255, 253, 63, 255, 255, 123, 183, 255, 127, 0, 0, 251, 77, 4, 224, 255, 127, 0, 0, 251, 77, 27, 212, 255, 127, 0, 0, 254, 255, 254, 199, 255, 127, 0, 0, 254, 255, 254, 199, 255, 127, 0, 0, 254, 255, 16, 177, 0, 0, 253, 63, 251, 77, 154, 239, 0, 0, 253, 63, 255, 255, 230, 236, 0, 0, 253, 63, 255, 255, 149, 190, 0, 0, 249, 191, 251, 77, 154, 239, 0, 0, 249, 191, 255, 255, 230, 236, 0, 0, 249, 191, 255, 255, 123, 183, 255, 127, 197, 204, 0, 0, 94, 245, 255, 127, 197, 204, 0, 0, 183, 228, 255, 127, 197, 204, 0, 0, 57, 243, 204, 204, 96, 166, 0, 0, 212, 228, 204, 204, 96, 166, 0, 0, 133, 241, 204, 204, 150, 89, 0, 0, 162, 226, 204, 204, 150, 89, 0, 0, 212, 228, 255, 127, 49, 51, 0, 0, 57, 243, 255, 127, 49, 51, 0, 0, 94, 245, 255, 127, 49, 51, 0, 0, 183, 228, 51, 51, 150, 89, 0, 0, 133, 241, 51, 51, 150, 89, 0, 0, 25, 245, 51, 51, 96, 166, 0, 0, 25, 245, 51, 51, 96, 166, 0, 0, 162, 226, 255, 127, 246, 255, 251, 77, 81, 214, 255, 127, 246, 255, 251, 77, 162, 207, 255, 127, 246, 255, 251, 77, 9, 225, 255, 127, 246, 255, 255, 255, 199, 202, 255, 127, 246, 255, 255, 255, 115, 213, 255, 127, 246, 255, 255, 255, 146, 219, 255, 127, 246, 255, 255, 255, 188, 176, 255, 255, 249, 191, 255, 255, 77, 185, 255, 255, 249, 191, 255, 255, 170, 188, 255, 255, 249, 191, 255, 255, 99, 183, 255, 255, 249, 191, 255, 255, 9, 196, 255, 255, 249, 191, 255, 255, 168, 197, 255, 127, 0, 0, 251, 77, 51, 222, 255, 127, 0, 0, 251, 77, 197, 209, 255, 127, 0, 0, 251, 77, 115, 225, 255, 127, 0, 0, 254, 255, 77, 198, 255, 127, 0, 0, 254, 255, 85, 210, 255, 127, 0, 0, 254, 255, 102, 213, 255, 127, 0, 0, 254, 255, 187, 176, 0, 0, 249, 191, 255, 255, 195, 237, 0, 0, 249, 191, 255, 255, 255, 255, 0, 0, 249, 191, 255, 255, 220, 236, 0, 0, 249, 191, 255, 255, 123, 183, 0, 0, 249, 191, 255, 255, 123, 183, 255, 127, 197, 204, 0, 0, 235, 221, 255, 127, 197, 204, 0, 0, 86, 242, 204, 204, 150, 89, 0, 0, 221, 235, 204, 204, 150, 89, 0, 0, 130, 234, 204, 204, 150, 89, 0, 0, 224, 221, 204, 204, 150, 89, 0, 0, 118, 220, 204, 204, 150, 89, 0, 0, 132, 232, 255, 127, 49, 51, 0, 0, 212, 242, 255, 127, 49, 51, 0, 0, 98, 238, 51, 51, 96, 166, 0, 0, 88, 211, 51, 51, 96, 166, 0, 0, 180, 202, 51, 51, 96, 166, 0, 0, 76, 220, 51, 51, 96, 166, 0, 0, 188, 235, 51, 51, 96, 166, 0, 0, 98, 235, 89, 206, 4, 37, 170, 215, 23, 54, 63, 224, 191, 31, 63, 224, 191, 31, 24, 232, 136, 55, 49, 169, 34, 18, 95, 185, 236, 18, 175, 54, 111, 6, 220, 109, 49, 41, 18, 109, 95, 57, 222, 26, 137, 46, 250, 90, 89, 78, 232, 73, 170, 87, 64, 96, 64, 96, 64, 96, 64, 96, 230, 23, 118, 200, 136, 64, 189, 114, 53, 89, 154, 117, 79, 201, 143, 249, 188, 242, 118, 63, 154, 245, 202, 38, 32, 229, 117, 209, 211, 183, 145, 28, 53, 223, 211, 82, 177, 161, 114, 196, 28, 156, 190, 13, 120, 65, 204, 37, 83, 75, 104, 50, 64, 114, 28, 28, 77, 94, 140, 59, 109, 99, 212, 55, 44, 45, 53, 95, 134, 190, 50, 218, 34, 42, 46, 116, 46, 244, 221, 85, 171, 180, 150, 205, 71, 194, 53, 34, 186, 171, 220, 25, 117, 214, 141, 52, 14, 214, 176, 26, 26, 236, 122, 43, 7, 233, 222, 45, 79, 227, 142, 48, 101, 207, 29, 39, 10, 186, 187, 24, 209, 85, 219, 31, 254, 45, 203, 0, 194, 225, 5, 23, 68, 98, 10, 60, 9, 69, 210, 87, 230, 67, 22, 88, 99, 126, 202, 54, 78, 104, 195, 74, 193, 82, 73, 114, 62, 50, 171, 242, 202, 87, 81, 17, 252, 75, 49, 134, 56, 232, 159, 34, 32, 249, 142, 242, 81, 251, 95, 208, 92, 230, 250, 94, 224, 155, 153, 218, 102, 178, 255, 10, 56, 81, 22, 36, 177, 99, 173, 0, 135, 112, 159, 22, 149, 110, 154, 45, 98, 103, 14, 17, 180, 93, 11, 46, 107, 60, 16, 150, 33, 245, 172, 94, 44, 233, 188, 80, 147, 175, 215, 213, 31, 166, 118, 254)
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ccrdb")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pb4df"]
shader = ExtResource("4_0llqw")

[sub_resource type="Gradient" id="Gradient_4xjgf"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_5g3if"]
gradient = SubResource("Gradient_4xjgf")

[sub_resource type="Curve" id="Curve_7m7sq"]
_data = [Vector2(0, 0.1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2
metadata/_snap_enabled = true

[sub_resource type="CurveTexture" id="CurveTexture_o0x3p"]
curve = SubResource("Curve_7m7sq")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qefsi"]
render_priority = 0
shader = ExtResource("5_tjdrs")
shader_parameter/emmission_transform = Projection(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
shader_parameter/flags = 40
shader_parameter/distortion_size = 1.0
shader_parameter/color_ramp = SubResource("GradientTexture1D_5g3if")
shader_parameter/curve = SubResource("CurveTexture_o0x3p")
shader_parameter/normal_map = ExtResource("5_3n51u")

[sub_resource type="QuadMesh" id="QuadMesh_yusx2"]
material = SubResource("ShaderMaterial_qefsi")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_0811i"]
streams_count = 4
stream_0/stream = ExtResource("8_so8bn")
stream_0/weight = 1.0
stream_1/stream = ExtResource("9_dhmob")
stream_1/weight = 1.0
stream_2/stream = ExtResource("10_xv7tl")
stream_2/weight = 1.0
stream_3/stream = ExtResource("11_6qbni")
stream_3/weight = 1.0

[node name="Bullet" type="Node3D"]
script = ExtResource("1_rn5p5")
speed = 70.0
hit_particle = ExtResource("2_vudbe")
hit_decal = ExtResource("3_8h365")

[node name="Mesh" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.5, 0, -1.31134e-07, 0, 1.5, 0, 1.31134e-07, 0, -1.5, 0, 0, 0)
mesh = SubResource("ArrayMesh_qh0d3")
skeleton = NodePath("")

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)
target_position = Vector3(0, 0, 1)
collision_mask = 20
hit_from_inside = true

[node name="GPUTrail3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0656571)
amount = 100
lifetime = 100.0
explosiveness = 1.0
fixed_fps = 0
visibility_aabb = AABB(-1.5904, -4, -4, 3.1808, 8, 8)
process_material = SubResource("ShaderMaterial_pb4df")
draw_pass_1 = SubResource("QuadMesh_yusx2")
script = ExtResource("7_c46t5")
color_ramp = SubResource("GradientTexture1D_5g3if")
curve = SubResource("CurveTexture_o0x3p")
_defaults_have_been_set = true

[node name="SFX" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_0811i")
volume_db = -25.0
max_db = 0.0
pitch_scale = 0.64
bus = &"Reverb"
attenuation_filter_db = 0.0
